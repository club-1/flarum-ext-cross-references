includes:
  - vendor/flarum/phpstan/extension.neon
  - vendor/phpstan/phpstan-deprecation-rules/rules.neon
  - vendor/phpstan/phpstan-phpunit/extension.neon
  - vendor/phpstan/phpstan-mockery/extension.neon

parameters:
  # The level will be increased in Flarum 2.0
  level: 5
  paths:
    - src
    - tests
    - extend.php
  excludePaths:
    - *.blade.php
  ignoreErrors:
    - message: '#function extract is passed by reference#'
      path: tests/unit/CrossReferencesConfiguratorTest.php
    - message: '#Variable \$parser might not be defined#'
      path: tests/unit/CrossReferencesConfiguratorTest.php
  checkMissingIterableValueType: false
  databaseMigrationsPath: ['migrations']
